<nav class="flex-shrink-0 bg-yellow-300 fixed top-0 left-0 right-0 z-40">
  <div class="max-w-7xl mx-auto px-2 sm:px-4 lg:px-8">
    <div class="relative flex items-center justify-between h-16">
      <div class="flex items-center px-2 lg:px-0 xl:w-64">
        <div class="flex-shrink-0">
          <a routerLink="/">
            <img class="h-8 w-auto" src="/assets/logo.svg">
          </a>
        </div>
      </div>

      <div class="flex-1 flex justify-center lg:justify-end">
        <div class="w-full px-2 lg:px-6">
          <label for="search" class="sr-only">Search projects</label>
          <div class="relative text-white focus-within:text-gray-400">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                      d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                      clip-rule="evenodd"/>
              </svg>
            </div>
            <input id="search" [(ngModel)]="searchQuery" (keyup.enter)="search()"
                   class="block w-full pl-10 pr-3 py-2 border border-transparent rounded-md leading-5 bg-red-400 bg-opacity-25 text-black placeholder-black focus:outline-none focus:bg-white focus:placeholder-gray-400 focus:text-gray-900 sm:text-sm transition duration-150 ease-in-out"
                   placeholder="Postleitzahl eingeben..." type="search">
          </div>
        </div>
      </div>
      <div class="flex lg:hidden">
        <div class="px-3 pt-2 hover:text-white cursor-pointer transition duration-150 ease-in-out"
             *ngIf="login.isLoggedIn$ | async">
          <a routerLink="/profile">
            <feather-icon name="user"></feather-icon>
          </a>
        </div>
        <div class="px-3 pt-2 hover:text-white cursor-pointer transition duration-150 ease-in-out"
             *ngIf="login.isAdmin$ | async">
          <a routerLink="/admin">
            <feather-icon name="bar-chart-2"></feather-icon>
          </a>
        </div>
        <div class="px-3 pt-2 hover:text-white cursor-pointer transition duration-150 ease-in-out"
             *ngIf="login.isLoggedIn$ | async">
          <a routerLink="/login/logout">
            <feather-icon name="log-out"></feather-icon>
          </a>
        </div>
        <div class="px-3 pt-2 hover:text-white cursor-pointer transition duration-150 ease-in-out"
             *ngIf="!(login.isLoggedIn$ | async)">
          <a routerLink="/login">
            <feather-icon name="log-in"></feather-icon>
          </a>
        </div>
      </div>
      <div class="hidden lg:block lg:w-80">
        <div class="flex items-center justify-end">
          <div class="flex">
            <a *ngIf="!(login.isLoggedIn$ | async)" routerLink="/login"
               class="px-3 py-2 rounded-md text-sm leading-5
               font-medium text-gray-600 hover:text-white
               focus:outline-none focus:text-white focus:bg-indigo-600
               transition duration-150 ease-in-out">
              <feather-icon class="pt-1.5" name="log-in"></feather-icon>
              Login
            </a>
          </div>
          <div class="flex truncate">
            <a *ngIf="login.isLoggedIn$ | async" routerLink="/profile"
               class="truncate px-3 py-2 rounded-md text-sm leading-5 font-medium text-gray-600 hover:text-white focus:outline-none focus:text-white focus:bg-indigo-600 transition duration-150 ease-in-out">
              {{login.decodedJwt$.value?.email}}
            </a>
          </div>
          <div class="ml-4 relative flex-shrink-0" *ngIf="login.isLoggedIn$ | async">
            <div>
              <button (click)="toggleUserMenu()"
                      class="flex text-sm rounded-full text-white focus:outline-none focus:shadow-solid transition duration-150 ease-in-out"
                      id="user-menu" aria-label="User menu" aria-haspopup="true">
                <img class="h-8 w-8 rounded-full" src="/assets/wallpaper/sun.jpg" alt="">
              </button>
            </div>
            <div
              class="transition ease-out duration-100 origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg transition ease-out duration-100 transform opacity-0 scale-95 hidden"
              #profileMenu>
              <div class="py-1 rounded-md bg-white shadow-xs" role="menu" aria-orientation="vertical"
                   aria-labelledby="user-menu">
                <a routerLink="/profile/" (click)="toggleUserMenu()"
                   class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"
                   role="menuitem">Meine Bestellungen</a>
                <a routerLink="/profile/customers" (click)="toggleUserMenu()"
                   class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"
                   role="menuitem">Mein Konto</a>
                <a routerLink="/profile/credentials" (click)="toggleUserMenu()"
                   class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"
                   role="menuitem">Zugangsdaten</a>
                <a routerLink="/admin" *ngIf="login.isAdmin$ | async" (click)="toggleUserMenu()"
                   class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out border-t border-b border-gray-300"
                   role="menuitem">Admin</a>
                <a routerLink="/login/logout"
                   class="block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"
                   role="menuitem">Abmelden</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
